{% extends "recipes/base.html" %}
{% block title %}Supprimer Ingrédient{% endblock %}

{% block content %}
<div class="content-body">
    <div class="text-center py-5">
        <i class="bi bi-exclamation-triangle text-warning" style="font-size: 4rem;"></i>
        
        <h2 class="mt-4">Confirmer la suppression</h2>
        
        <p class="lead mt-3">
            Êtes-vous sûr de vouloir supprimer l'ingrédient <strong>{{ ingredient.nom }}</strong> ?
        </p>
        
        {% if ingredient.recette_ingredients.exists or ingredient.sousrecette_ingredients.exists %}
        <div class="alert alert-danger">
            <i class="bi bi-exclamation-octagon"></i>
            Cet ingrédient est utilisé dans des recettes et ne peut pas être supprimé.
        </div>
        {% else %}
        <div class="alert alert-warning">
            <i class="bi bi-info-circle"></i>
            Cette action est irréversible et supprimera toutes les données associées.
        </div>
        {% endif %}
        
        <form method="post" class="mt-4">
            {% csrf_token %}
            <a href="{% url 'ingredient_list' %}" class="btn btn-secondary">
                <i class="bi bi-x-circle"></i> Annuler
            </a>
            {% if not ingredient.recette_ingredients.exists and not ingredient.sousrecette_ingredients.exists %}
            <button type="submit" class="btn btn-danger ms-2">
                <i class="bi bi-trash"></i> Supprimer définitivement
            </button>
            {% endif %}
        </form>
    </div>
</div>
{% endblock %}